from aiogram import F, Router
from aiogram.filters import CommandStart, Command
from aiogram.types import Message, CallbackQuery

import app.database.request as rq

import app.keyboards as kb

router = Router()

""" –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start """
@router.message(CommandStart())
async def cmd_start(message: Message):
    await rq.set_user(message.from_user.id)
    await message.answer_photo(photo='https://nbkk.co.jp/wp-content/uploads/2023/06/yumgo-logo.png')
    await message.answer(f"""
üçî –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {message.from_user.first_name}, –≤ YumGo! üöÄ
                         
–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ:""", reply_markup=kb.main)
    

""" –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help """
@router.message(Command("help"))
async def get_help(message: Message):
    await message.answer("""
üìå –ö–æ–º–∞–Ω–¥–∞ /help

üçï –ß—Ç–æ —É–º–µ–µ—Ç —ç—Ç–æ—Ç –±–æ—Ç?
–° –ø–æ–º–æ—â—å—é YumGo —Ç—ã –º–æ–∂–µ—à—å –∑–∞–∫–∞–∑–∞—Ç—å –≤–∫—É—Å–Ω—É—é –µ–¥—É —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –ø—Ä—è–º–æ –¥–æ–º–æ–π! üöóüí®

üìù –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

    üì≤ –í—ã–±–µ—Ä–∏ "–ú–µ–Ω—é" (/menu –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–∏–∂–µ) ‚Äì –æ—Ç–∫—Ä–æ–µ—Ç—Å—è WebApp —Å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–æ–º.

    üõçÔ∏è –°–æ–±–µ—Ä–∏ –∑–∞–∫–∞–∑ ‚Äì –¥–æ–±–∞–≤–ª—è–π –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –±–ª—é–¥–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É.

    üì¶ –û—Ñ–æ—Ä–º–∏ –¥–æ—Å—Ç–∞–≤–∫—É ‚Äì –∑–∞–ø–æ–ª–Ω–∏ –∫–æ—Ä–æ—Ç–∫—É—é –∞–Ω–∫–µ—Ç—É —Å –∞–¥—Ä–µ—Å–æ–º.

    ‚è≥ –ñ–¥–∏ –∫—É—Ä—å–µ—Ä–∞ ‚Äì –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç—å –≤–∫—É—Å–Ω—è—à–∫–∏! üòã

üîπ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:

    /menu ‚Äì –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é

    /cart ‚Äì –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É

    /support ‚Äì –ø–æ–º–æ—â—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
""")


""" –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ú–µ–Ω—é" """
@router.message(F.text == "–ú–µ–Ω—é")
@router.message(Command('menu'))
async def main_menu_mes(message: Message):
    await message.answer("""
–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
1Ô∏è‚É£ –û—Ç–∫—Ä–æ–µ—Ç—Å—è —É–¥–æ–±–Ω–æ–µ WebApp-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–æ–º
2Ô∏è‚É£ –í—ã–±–∏—Ä–∞–π –±–ª—é–¥–∞, –¥–æ–±–∞–≤–ª—è–π –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –æ—Ñ–æ—Ä–º–ª—è–π –∑–∞–∫–∞–∑ –≤ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤!
""", reply_markup=kb.webapp_pril)
    

""" –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏-–∫–æ–º–∞–Ω–¥—ã "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É" """
@router.message(F.text == "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É")
@router.message(Command('cart'))
async def my_cart(message: Message):
    await message.answer("–î–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –Ω–æ –≤ —Å–∫–æ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏ –æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!")


""" –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏—è "–ü–æ–º–æ—â—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞" """
@router.message(F.text == "–ü–æ–º–æ—â—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞")
@router.message(Command('support'))
async def additional_help(message: Message):
    await message.answer("""
üõéÔ∏è –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É! –û–Ω —Å —Ä–∞–¥–æ—Å—Ç—å—é –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –≤—Å–µ —Ç–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–º–æ–∂–µ—Ç —Å –∑–∞–∫–∞–∑–æ–º. üí¨

üëâ –ù–∞–ø–∏—à–∏ —Å—é–¥–∞: @YumGo_Support

–ú—ã –Ω–∞ —Å–≤—è–∑–∏ 24/7 –∏ —Å–¥–µ–ª–∞–µ–º –≤—Å—ë, —á—Ç–æ–±—ã —Ç–≤–æ–π –æ–ø—ã—Ç –±—ã–ª –∏–¥–µ–∞–ª—å–Ω—ã–º! üåü
""")